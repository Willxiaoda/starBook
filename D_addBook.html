<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>添加书单</title>
	<link rel="stylesheet" type="text/css" href="css/D_addBook.css">
	<script type="text/javascript" src="js/jquery.js"></script>
</head>
<body>
	<header>
		<a href="www.xingkong.us"><div id="logo"></div></a>
	</header>
	<div id="container">
		<div id="title">
			<input id="title_left" readonly value="书单1" />
			<div id="title_right">
				<div class="edit">编辑</div>
				<div class="back">返回</div>
			</div>
		</div>
		<form method="post" action="" id="bookShelf">
			<div id="book1" class="bookInfo">
				<span>书名：</span>
				<input type="text" id="bookName1" name="bookName1" class="bookName" />
				<span>价格：</span>
				<input type="text" id="bookPrice1" name="bookPrice1" class="bookPrice" />
				<span>折后价：</span>
				<input type="text" id="bookDiscount1" name="bookDiscount1" class="bookDiscount" />
				<!-- 标识数据库ID号 -->
				<input type="text" name="flag1" id="flag1" style="display:none" />
			</div>
		</form>
		<div id="add">添加</div>
		<input type="submit" value="保存" id="sure">
	</div>
</body>
</html>
<script type="text/javascript">
	window.onload = function(){
		var bookcount = 2;
		var isEditing = false;
		var listName = null;
		function addItem(){
			//动态添加dom
			$('#bookShelf').append('<div id="book'+bookcount+'" class="bookInfo"> <span>书名：</span> <input type="text" id="bookName'+bookcount+'" name="bookName'+bookcount+'" class="bookName" /> <span>价格：</span> <input type="text" id="bookPrice'+bookcount+'" name="bookPrice'+bookcount+'" class="bookPrice" /> <span>折后价：</span> <input type="text" id="bookDiscount'+bookcount+'" name="bookDiscount'+bookcount+'" class="bookDiscount" <input type="text" id="flag'+bookcount+'" name="flag'+bookcount+'" style="display:none" /></div>');
			bookcount++;
		}
		function editListName(){
			if(isEditing){
				$('.edit').html('编辑');
				$('#title_left').attr("readonly",true);
				$('#title_left').css("border","none");
				isEditing = false;
			}else{
				$('.edit').html('保存');
				$('#title_left').attr("readonly",false);
				$('#title_left').css("border","1px solid #000");
				isEditing = true;
			}
		}
		$('#add').on('click', addItem);
		$('.edit').on('click',editListName);
	}
	
</script>
